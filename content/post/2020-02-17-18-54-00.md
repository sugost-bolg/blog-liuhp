---
title: "MTProxy TLS一键安装绿色极简脚本"
date: 2020-02-17T18:54:00+0000
slug: 68
tags:
  - MTProxy
categories:
  - 电脑网络
---




MTProxy TLS一键安装绿色极简脚本

这个脚本相对于之前其他人发的，额外集成了mtproxy的新特性，根据指定的域名自动进行伪装。

减少被运营商检测的风险，更优于普通的代理或者随机字串数据包的形式。

需要注意的是，这里的TLS是假的（Fake TLS）。这会让你的IP访问起来更像是一个正常的网站。

所以，在这里推荐你使用默认端口：443，如果端口被占用或者NAT内网主机，可以设置其他端口。

除过443以外，还推荐你使用如下端口，都是常见的https端口，也可以进行一定程度的伪装：

如：443、2053、2083、2087、2096、8443

 

安装方式
执行如下代码进行安装

    mkdir /home/mtproxy && cd /home/mtproxy
    curl -s -o mtproxy.sh https://raw.githubusercontent.com/ellermister/mtproxy/master/mtproxy.sh && chmod +x mtproxy.sh && bash mtproxy.sh
    mtproxy.sh

使用方式
运行服务

    bash mtproxy.sh start

调试运行

    bash mtproxy.sh debug

停止服务

    bash mtproxy.sh stop

重启服务

    bash mtproxy.sh restart

卸载安装
因为是绿色版卸载极其简单，直接删除所在目录即可。

    rm -rf /home/mtproxy


----------
ps:安装完成后还要开启相对应的端口，本实例需开启443端口，代码如下：

    firewall-cmd --zone=public --add-port=443/tcp --permanent
    firewall-cmd --reload

关闭端口命令如下：

    firewall-cmd --zone=public --remove-port=443/tcp --permanent
    firewall-cmd --reload

卸载
因为是绿色版卸载极其简单，直接删除程序目录即可；

    rm -rf /home/mtproxy

开机启动
编辑/etc/rc.local开机自启服务文件，将如下代码添加到开机自启脚本中；

编辑自启文件
vi /etc/rc.local

添加如下代码

    bash /home/mtproxy/mtproxy.sh start > /dev/null 2>&1 &

添加rc.local执行权限

    chmod +x /etc/rc.d/rc.local

重启系统查看是否成功启动

    reboot

----------
文章转发至[https://docs.google.com/document/d/1KSTfz6quYplQ6Z-wSJz3CrtQDwcLd2eupj0cd_0qLyU/edit#heading=h.dgkuk2kfjjnm][1]


  [1]: https://docs.google.com/document/d/1KSTfz6quYplQ6Z-wSJz3CrtQDwcLd2eupj0cd_0qLyU/edit#heading=h.dgkuk2kfjjnm