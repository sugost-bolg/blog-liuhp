---
title: "ShadowsocksR 多用户一键安装 管理 脚本"
date: 2020-02-11T10:10:00+0000
slug: 67
tags:
  - ssr
categories:
  - 电脑网络
---




使用必读
脚本的二维码图片链接，是调用doub.io自建的 二维码API 来生成二维码图片( http://doub.pw/qr/qr.php?text=xxx )。
当访问API页面后，PHP网页文件会把 GET参数( ?text=xxx ) 传递给JS脚本，浏览器会加载JS脚本，然后由JS脚本根据 GET参数的文本 生成二维码图片！图片是在你本地浏览器中生成，服务器中不存在图片！
如果你不信任本脚本请Ctrl+W关闭本页。

系统要求
CentOS 6+ 丨 Debian 6+ 丨 Ubuntu 14.04 +

脚本特点
所有步骤都可以通过 Shell 脚本中文交互 操作。

支持 限制 用户速度
支持 限制 用户设备数
支持 限制 用户总流量
支持 定时 流量清零
支持 显示 当前连接IP
支持 显示 SS/SSR连接+二维码
支持 自定义账号IP或域名
支持 监控SSR服务端运行状态
支持 一键安装 BBR 锐速 LotServer
支持 一键封禁 垃圾邮件(SMAP)/BT/PT
脚本安装

    wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssrmu.sh && chmod +x ssrmu.sh && bash ssrmu.sh

输入 1 ，就会开始安装SSR服务端，按提示输入你需要的 端口/密码/加密方式/ 协议/混淆 等参数来添加第一个用户。
注意：用户名不支持中文.

第一个用户添加完成后大概显示的信息:

用户 [anlan.ga] 的配置信息：
 
 I P     : xxx.xxx.xxx.xxx
 端口     : 2333 
 密码     : doub.io
 加密     : aes-128-ctr
 协议     : auth_aes128_md5
 混淆     : tls1.2_ticket_auth_compatible 
 设备数限制: 5
 单线程限速: 1024 KB/S 
 端口总限速: 4096 KB/S 
 禁止的端口 : 无限制
 
 已使用流量 : 上传: XXX KB + 下载: XXX MB = XXX MB
 剩余的流量 : 980 MB 
 用户总流量 : 100 GB
 
 SS链接: ss://xxxxxxxxxxxxx
 SS二维码: http://pan.baidu.com/share/qrcode?w=300&h=300&url=ss://xxxxxxxxxxxxx
 SSR链接: ssr://xxxxxxxxxxxxx
 SSR二维码: http://pan.baidu.com/share/qrcode?w=300&h=300&url=ssr://xxxxxxxxxxxxx
 
 提示: 
 在浏览器中，打开二维码链接，就可以看到二维码图片。
 协议和混淆后面的[ _compatible ]，指的是 兼容原版协议/混淆。
使用说明
#运行脚本

    bash ssrmu.sh

脚本的大概操作菜单

  ShadowsocksR MuJSON一键管理脚本 [v1.0.26]
  ---- Toyo | doub.io/ss-jc60 ----

  1. 安装 ShadowsocksR
  2. 更新 ShadowsocksR
  3. 卸载 ShadowsocksR
  4. 安装 libsodium(chacha20)
————————————
  5. 查看 账号信息
  6. 显示 连接信息
  7. 设置 用户配置
  8. 手动 修改配置
  9. 配置 流量清零
————————————
 10. 启动 ShadowsocksR
 11. 停止 ShadowsocksR
 12. 重启 ShadowsocksR
 13. 查看 ShadowsocksR 日志
————————————
 14. 其他功能
 15. 升级脚本
 
 当前状态: 已安装 并 已启动

请输入数字 [1-15]：
文件位置
安装目录：/usr/local/shadowsocksr

配置文件：/usr/local/shadowsocksr/user-config.json

数据文件：/usr/local/shadowsocksr/mudb.json

脚本控制
启动 ShadowsocksR：/etc/init.d/ssrmu start

停止 ShadowsocksR：/etc/init.d/ssrmu stop

重启 ShadowsocksR：/etc/init.d/ssrmu restart

查看 ShadowsocksR状态：/etc/init.d/ssrmu status

ShadowsocksR 默认支持UDP转发，服务端无需任何设置。

其它
CentOS7 如果不能使用可能是因为防火墙firewall问题

#开放端口 比如你设置的SSR端口为1025
firewall-cmd --zone=public --add-port=1025/tcp --permanent
firewall-cmd --zone=public --add-port=1025/udp --permanent
#重新载入
firewall-cmd --reload

转发自 https://anlan.ga/93