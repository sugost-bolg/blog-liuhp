---
title: "Ubuntu 18.04 安装常见问题汇总"
date: 2019-09-01T18:34:00+0000
slug: 24
categories:
  - 电脑网络
---




root用户设置

升级为Ubuntu 18.04后，安全性有所提高，同时也给普通用户带来操作上的不便。可通过以下方式添加root用户:

为root设置初始密码
（1）打开终端，输入`sudo passwd root`
（2）设置root密码

修改50-ubuntu.conf文件内容

（1）终端输入`sudo gedit /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf`
（2）打开文件，在末尾加入如下两行，完成后保存并关闭

    greeter-show-manual-login=true
    all-guest=false


<!--more-->


进入**/etc/pam.d目录，修改gdm-autologin和gdm-password**文件内容
sudo gedit /etc/pam.d/gdm-autologin注释auth required pam_success_if.so user!=root quiet_success这一行
sudo gedit /etc/pam.d/gdm-password注释auth required pam_success_if.so user!=root quiet_success这一行
修改**/root/.profile**文件
（1）终端输入`sudo gedit /root/.profile`
（2）打开文件，将最后一行改为`tty -s && mesg n || true`，保存并关闭。
（3）注销用户，在未列出输入用户名root和密码。

ubuntu卡帧

在配置完以上几步后，我的电脑出现了卡帧的情况（非常辣眼睛！），设置中显示未知display。经过反复的尝试，我利用以下方法解决了问题（针对有NVIDIA显卡的电脑）：

查看驱动推荐安装版本：终端输入`ubuntu-drivers devices`
安装对应的驱动（本机需安装390）：终端输入`apt-get install nvidia-driver-390`
重启系统。
在终端输入nvidia-smi，若无显示则说明安装成功。
ubuntu扬声器和耳机端均无声音

ubuntu 18.04最吸引我的一点是它支持GNOME桌面，但是在配置桌面美化后，我发现系统完全变成了静音状态（哭）。搜罗了很多博客，发现最常用的是下载pavucontrol设置，但会出现长时间连不上声卡驱动的情况。另一种方式是用系统自带的alsamixer进行音量调节，也未能解决。利用以下方法，我成功打开pavucontrol，ubuntu重获新生。

安装PulseAudio
`sudo apt-get update`  # 先更新版本库

    sudo apt install pulseaudio

或

    snap install pulseaudio

重启系统
打开pavucontrol，调节音量
ubuntu出现dummy output（即虚假声音输出）

在终端输入`killall pulseaudio`
重启系统

在 Ubuntu 18.04上，我成功地使用以下命令禁用挂起：

    sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target

要启用它，请执行以下操作：

    sudo systemctl unmask sleep.target suspend.target hibernate.target hybrid-sleep.target

Ubuntu升级软件和ubuntu升级系统的命令

`sudo apt-get update`: 升级安装包相关的命令,刷新可安装的软件列表(但是不做任何实际的安装动作)

`sudo apt-get upgrade`: 进行安装包的更新(软件版本的升级)

`sudo apt-get dist-upgrade`: 进行系统版本的升级(Ubuntu版本的升级)

`sudo do-release-upgrade`: Ubuntu官方推荐的系统升级方式,若加参数-d还可以升级到开发版本,但会不稳定

`sudo apt-get autoclean`: 清理旧版本的软件缓存

`sudo apt-get clean`: 清理所有软件缓存

`sudo apt-get autoremove`: 删除系统不再使用的孤立软件
